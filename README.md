# 吉他换弦计算器

一个用于帮助手工换弦时预留长度与快速参考品位区间的控制台工具。基于简单几何与吉他品位等比律，计算需要在弦钮绕线处预留的长度，并给出与琴颈品柱对应的参考区间，方便无需精确测量时快速上弦。

## 主要功能
- 按弦钮直径、琴弦直径与推荐缠绕圈数计算预留长度（mm）。
- 计算琴颈上各品位位置，比较并给出与预留长度最匹配的品位区间（详细与简洁两种显示）。
- 基于“位置惩罚 + 误差惩罚”给出排序，优先推荐更易操作的靠近弦枕区间。
- 内置常见电吉他 / 民谣吉他的弦规集合（可在源码中扩展）。

## 算法简介
- 预留长度公式：L = (n - 0.5) × π × (弦钮直径 + 琴弦直径)  
    （n 为推荐缠绕圈数）
- 品位位置（自弦枕起）采用十二平均律公式：pos(fret) = scaleLength × (1 - 2^(-fret/12))
- 给定预留长度后，在 0..22 品之间枚举区间，计算区间长度与目标长度误差，按位置与误差惩罚合成评分并排序，输出最优若干项与快速参考表。

## 编译与运行（Windows 推荐）
- 依赖：支持 C++11 的编译器，Windows API（源码使用了 Windows.h、system("cls") 等），建议在 Windows 环境下使用 MinGW 或 Visual Studio。
- 示例（使用 g++ / MinGW）:
    - g++ -std=c++11 -O2 -o ffr.exe *.cpp
    - ./ffr.exe
- 交互说明：
    - 启动后按 T 显示教程、C 进入计算、Q 或回车退出。
    - 计算界面会提示输入：琴弦长（mm）、弦钮直径（mm）、琴弦规格（例如 010E）。直接回车使用默认值。

## 默认值与内置数据
- 默认弦长：628.65 mm（Les Paul 型示例）
- 默认弦钮直径：4.5 mm
- 默认弦规：010E（内置多种电吉他/民谣吉他规格）
- 推荐缠绕圈数（六根弦示例）：5.0, 4.5, 4.0, 3.0, 2.5, 2.0

## 使用建议与注意事项
- 推荐区间优先选择靠近弦枕的一组品位，便于手工操作与观察。
- 换弦后新弦需反复拉紧并等待 24–48 小时以稳定音高。
- 修剪多余琴弦时请佩戴护目镜并注意安全。

## 可扩展项
- 添加七弦 / 贝斯 / 尤克里里等规格支持（在源码 stringGauges 映射中新增条目）。
- 改进界面以支持 GUI 或跨平台终端清屏兼容。
- 引入更精确的缠绕螺旋模型（如果需要更高精度的缠绕长度估算）。

## 示例输出（简略）
- 预留长度表：列出每根弦的直径（mm）、建议缠绕圈数、计算出的预留长度（mm）。
- 详细参考：列出若干“第 i 品 - 第 j 品 = XX.X mm (误差: ±Y.Y mm)”项。
- 简洁快速参考：每根弦显示最合适的品位区间（例如 “弦枕 - 第2品”）。

## 许可证与贡献

- 本项目为开源；欢迎修改弦规、改进算法或添加平台兼容性。请在提交改动时附上简短说明与测试用例。

# 穷玩摇滚（含优先级排序、音箱推荐与FAQ）

一份为预算有限的电吉他新手准备的入门指南。

---

## 🎸 设备清单

### 核心设备

*   **吉他** （推荐 Epiphone Les Paul Special-II 或 Tribute，干摇滚就得是LP口牙）
*   **综合效果器音箱**（推荐 Joyo JAM BUDDY 和 JAM BUDDY II。一代傻瓜式操作无脑买，二代功能多）
*   **3.5mm监听耳机**（你也不想被室友撅罢，一定不能买带麦克风的。6.35mm监听耳机泛用性太差，强烈反对选购）
*   **6.35mm公公音频线**（若不选购 JA-01，至少3m长，一般买音箱会赠）
*   **拨片**（薄扫弦，厚单音）
*   **3.5mm母-6.35mm公转接头**（若选购 JAM BUDDY）

### 辅助设备

*   琴箱或琴包
*   背带
*   防脱扣（一般买背带会赠）
*   节拍器（若不选购 JAM BUDDY II）
*   闷音带（新手必备，帮助护弦）
*   拨片收纳盒（提防地板小精灵）
*   变调夹（极少用于演奏，因调试琴颈时需要而更倾向于调试与保养设备）
*   吉他支架

### 调试与保养设备

*   柠檬油（换弦时擦拭指板防开裂，不可用于琴身和琴弦）
*   吉他清洁剂（平时擦拭琴身，不可用于指板和琴弦）
*   M4内六角扳手（调节琴颈曲度）
*   螺丝刀（一字十字都要有，不用太大，一字调节琴桥高度和弦码位置，十字拆卸钢筋盖板）
*   调音器（若不选购 JAM BUDDY II）
*   备用琴弦（弦锈了就换，纯纯消耗品罢了，至于怎么换弦，哥给你教程）
*   三合一剪弦器（三合一指的是剪钳、卷弦器和拔钉器三合一。拔钉功能只适用于民谣吉他。市面上的三合一剪弦器几乎都没有锋利刃口，其剪弦实际上是铡弦——这更安全也更高效，最重要的是这玩意才几块钱一个。一些乐器网店直接帮你把柠檬油清洁剂包圆再赠你两块布和一个三合一）
*   弦距尺（用以判断琴颈曲度、拾音器磁头高度和琴桥高度是否合适）
*   擦琴布（两块，一块搭配柠檬油，另一块搭配清洁剂）

---

## 🎯 优先级排序

### 最高优先级 - 最小可用系统

这一部分为核心设备，优先级并列最高，构成最小可用系统（Minimum Viable Setup, MVS），务必备齐：

*   吉他
*   综合效果器音箱
*   音频线（若不选购 JA-01）
*   拨片
*   监听耳机
*   转接头（若选购 JAM BUDDY 一代）

### 中等优先级 - 重要辅助设备或耗材

这一部分为重要辅助设备或耗材，优先级递减，推荐量力而行，顺序购买：

*   琴箱或琴包
*   吉他支架
*   备用琴弦和三合一剪弦器
*   背带和防脱扣
*   柠檬油
*   十字螺丝刀和 M4 内六角扳手
*   一字螺丝刀
*   弦距尺
*   调音器和节拍器（若不选购 JAM BUDDY II，智能手机程序或相关网页可胜任此功能）

### 低优先级 - 次要辅助设备或耗材

这一部分为次要辅助设备或耗材，优先级递减，推荐看心情买：

*   清洁剂
*   擦琴布
*   拨片收纳盒
*   变调夹
*   闷音带（新手必备神器优先级最低的原因是，护弦是电吉他手的基本功，依赖闷音带是一个坏习惯，当然如果你的增益很高的话当我没说）

---

## 🔊 音箱选购建议：Joyo 宇宙小盘点

| 档位 | 型号 | 价格 | 核心特点 |
| :--- | :--- | :--- | :--- |
| 💩 **丐中丐** | **JA-01** | 约 40 元 | 预设清音/失真，支持耳机和有线伴奏，无独立音量音色调节 |
| 🧊 **丐** | **JA-02** | 约 135 元 | 清音/过载双通道，可调音色增益，支持蓝牙伴奏和伴奏音量调节 |
| ⚖️ **标配** | **JAM BUDDY** | 约 350 元 | 三通道，支持增益调节、延迟效果、蓝牙伴奏，支持信号输出 |
| 🚀 **顶** | **JAM BUDDY II** | 约 550 元 | 三通道、三段均衡、多种效果（混响、延迟、调制）、箱头模拟、蓝牙伴奏、伴奏音量调节、内录、调音器、鼓机、Looper |
| 🌌 **顶中顶** | - | - | 那你穷玩什么摇滚 |

### 省流版推荐

*   **穷到吃土** 选 **JA-01** (MVS约600元，全套设备约1000元)
*   **预算锁死** 选 **JA-02** (MVS约700元，全套设备约1100元)
*   **追求综合性价比** 选 **JAM BUDDY** (MVS约900元，全套设备约1300元)
*   **愿为练习便利性和小规模演出投资** 则上 **JAM BUDDY II** (MVS约1100元，全套设备约1500元)

---

## 📚 电吉他 ABC

### 问：电吉他如何发声？

答：电吉他通过拾音器和音箱发声。拾音器装有磁铁和线圈。磁铁磁化附近的琴弦钢材，琴弦振动时引起线圈内磁通量发生变化从而产生感应电动势和感应电流。这一信号再经过处理与放大，输出给音箱并播放，这就是电吉他的声音。

### 问：为什么不能给电吉他直接连耳机？

答：我们先来复习一下最大功率传输定理：当负载阻抗等于功率输出接口的除源阻抗时，负载获得的功率最大。一般情况下，电吉他设备链的阻抗匹配不会完全相同，至少量级接近。电吉他虽然可以作为一个交流电源使用，但是其电动势极低（数十毫伏），而内阻极高（数十万欧姆）。耳机作为负载，阻抗一般不超过 100Ω，这意味着耳机获得的功率几乎是 0。为此电吉他不能直接连耳机。

### 问：电吉他的音量旋钮有什么用？

答：它可以调节声音信号的强弱，读数越大声音越响。本质上是一个电位器，调节电吉他接口的输出电压。可以与效果器的 GAIN 旋钮联合调节增益。

### 问：电吉他的音色旋钮有什么用？

答：它可以调节声音信号中高频成分的含量，读数越大声音越亮。本质上是一个可变低通滤波器，滤除输出信号的高频成分。可以与箱头的三段均衡或 TONE 旋钮联合调节音色。

### 问：如何给旋钮读数？

答：标准持琴姿势下眼睛看向旋钮，正对着你的刻度就是旋钮的读数；或者可以将旋钮拧到最大值或最小值，观察刻度"10"或刻度"0"的位置，那里就是"指针"。

### 问：对于多拾音器电吉他，不同拾音器采集的信号有什么不一样？

答：好问题。我们来复习一下琴弦无阻尼振动方程的解析解：

y(x, t) = ∑{n=1→∞} sin(nπx/L) [ A_n cos(nπct/L) + B_n sin(nπct/L) ]

（沟槽的 Github 不支持公式排版，凑合着看吧）

这个解说明，琴弦的振动是一系列驻波的叠加。拾音器越接近某一次谐波的波腹，该次谐波被采集到的强度越大。

琴颈拾音器的位置比较接近基频与低次谐波的波腹，可以采集到厚实的中低频；而能够在琴桥拾音器处取得波腹的只可能是高次谐波，这意味着琴桥拾音器的声音更加明亮尖锐而富有冲击力。

使用无阻尼解的原因是，我懒得写欠阻尼解。不论是无阻尼解还是欠阻尼解，琴弦的振动都体现出驻波叠加的特征。既然我们只关心波节与波腹的位置分布，那么无阻尼解也可以用于说明问题。

### 问：单线圈拾音器和双线圈拾音器有什么区别？

答：单线圈拾音器的特性是，它容易受到环境中电磁场（如灯光、电脑）的干扰从而采集到噪音。双线圈拾音器通过两个线圈反向缠绕，可以有效抵消这种噪音。如果噪音过大，检查一下是否面对干扰源，或者尝试在房间的不同位置练习。这其实也构成了我不买 Stratocaster 和 Telecaster 的原因。Gibson 的特定型号 LP 支持将拾音器切换为单线圈工作（切单），这说明双线圈可以不用但不能没有。除了琴体厚而重，高把位弹起来不自在之外，LP 没有缺点。声音不够脆甜只是一种特性。

### 问：综合效果器音箱是什么意思？

答：你知道的，电吉他的信号需要处理才能形成音色，信号的处理流程就是效果链。

处理信号一般需要多种变换，如果一个效果器只能实现一种变换，则称为单块效果器；如果一个效果器能实现多种变换，则称为综合效果器。

在传统的由单块效果器组成的效果链中，串联顺序一般是这样的：吉他 -> 调音表 -> 压缩器 -> 哇音踏板 -> 均衡 -> 增益 -> 调制 -> 延迟 -> 混响 -> 放大器 -> 音箱箱体。

现在我们考虑一种情况——把上述效果链中从均衡到放大器的功能塞进一个综合效果器里面，那么这个特殊的综合效果器就叫做箱头。箱头的均衡和增益部分称为前级，调制、延迟、混响部分称为效果环路，放大器部分称为后级。

再进一步考虑将箱头和箱体做成单台设备，那么这就是综合效果器音箱。我们的新伙计，JAM BUDDY II 所支持的箱头模拟就是模拟了 14 款不同的箱头，每个通道都可以指定一个模拟箱头用于处理吉他信号。而我们提到的其他综合效果器音箱，只支持其自身一款箱头。

### 问：为什么推荐综合效果器音箱而不是单块加音箱？

答：那些设备又贵又占地方，业余玩家的天花板就在 JAM BUDDY II 一者。如果有朝一日你的技术与财力能够驾驭专业方案，那再好不过了。

---

## 🌐 网络资源

善用网络资源。推荐几个 B 站 up 主：

*   [https://space.bilibili.com/385077115]
*   [https://space.bilibili.com/293607656]
*   [https://space.bilibili.com/2075483157]
*   [https://space.bilibili.com/403992544]
*   [https://space.bilibili.com/24624187]
*   [https://space.bilibili.com/51759531]
*   [https://space.bilibili.com/88685018] （老姚主营民谣吉他，但是只要电吉他能调成民谣吉他的音色，电吉他也可以是民谣吉他）

想找谱子但国内找不到时可以试试这个：

*   [https://www.songsterr.com](https://www.songsterr.com)


